@import _root_.form.IdFormHelpers.nonInputFields
@import views.support.fragment.ConsentChannel._
@import views.support.fragment.Switch._

@(
    idUrlBuilder: services.IdentityUrlBuilder,
    idRequest: services.IdentityRequest,
    privacyForm: Form[_root_.form.PrivacyFormData],
    user: com.gu.identity.model.User,
)(implicit request: RequestHeader, messages: play.api.i18n.Messages)
<form method="post" action="@idUrlBuilder.buildUrl("/privacy/edit", idRequest)" novalidate>
    @views.html.helper.CSRF.formField
    <div class="manage-account__switches manage-account__switches--single-column">

        <p class="identity-title-explainer">From time to time we’d love to be able to send you updates about the products and services that you’ve selected above by SMS, post or telephone.</p>
        <p class="identity-title-explainer">Please tick the boxes below to let us know if you <b>do not wish to receive</b> these.</p>

        <ul>
            <li>
            @fragments.form.switch(
                title = "",
                subheading = None,
                description = Some("I <b>do not</b> wish to receive communications from the Guardian <b>by post</b>."),
                behaviour = ConsentSwitch,
                field = privacyForm("stopPostComms")
            )(nonInputFields, messages)
            </li>

            <li>
            @fragments.form.switch(
                title = "",
                subheading = None,
                description = Some("I <b>do not</b> wish to receive communications from the Guardian <b>by telephone</b>."),
                behaviour = ConsentSwitch,
                field = privacyForm("stopPhoneComms")
            )(nonInputFields, messages)
            </li>
        </ul>
    </div>
</form>
